"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const _listeners=[];var _triggered=!1;function addListener(e){if(_triggered)console.warn("@iroomit/page-interaction-listener: Listener already triggered by interaction; adding a function now has no effect.");else if(e instanceof Array)for(var n=0;n<e.length;n++)_listeners.push(e[n]);else e instanceof Function&&_listeners.push(e)}function removeListener(e){if(_triggered)console.warn("@iroomit/page-interaction-listener: Listener already triggered by interaction; removing a function now has no effect.");else if(e instanceof Array)for(var n=0;n<e.length;n++){let t=_listeners.indexOf(e[n]);t>-1?_listeners.splice(t,1):console.warn("@iroomit/page-interaction-listener: A listener that was never added was attempted to be removed and failed.")}else if(e instanceof Function){let n=_listeners.indexOf(e);n>-1?_listeners.splice(n,1):console.warn("@iroomit/page-interaction-listener: A listener that was never added was attempted to be removed and failed.")}}function _onTrigger(e){if(!_triggered){for(var n of(_triggered=!0,_listeners))n();for(document.removeEventListener("mousedown",_onTrigger),document.removeEventListener("mousemove",_onTrigger),document.removeEventListener("touchstart",_onTrigger),document.removeEventListener("scroll",_onTrigger),document.removeEventListener("keydown",_onTrigger);_listeners.length;)_listeners.pop()}}"undefined"!=typeof window&&(document.addEventListener("mousedown",_onTrigger),document.addEventListener("mousemove",_onTrigger),document.addEventListener("touchstart",_onTrigger),document.addEventListener("scroll",_onTrigger),document.addEventListener("keydown",_onTrigger));const PageInteractionListener={addListener:addListener,removeListener:removeListener};exports.default=PageInteractionListener;
